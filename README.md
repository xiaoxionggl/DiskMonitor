# DiskMonitor â€“ æ–‡ä»¶å¤¹ç©ºé—´å˜åŒ–è¿½è¸ªç³»ç»Ÿ

## ðŸ“Œ é¡¹ç›®ç®€ä»‹
**DiskMonitor** æ˜¯ä¸€æ¬¾åŸºäºŽ **C++17/20** å¼€å‘çš„é«˜æ€§èƒ½ç£ç›˜ç©ºé—´ç›‘æŽ§å·¥å…·ï¼Œæ—¨åœ¨**æŒç»­è¿½è¸ªæ–‡ä»¶å¤¹å¤§å°å˜åŒ–**ï¼Œå¸®åŠ©ç”¨æˆ·å‘çŽ°ç£ç›˜å¼‚å¸¸å¢žé•¿çš„ç›®å½•ï¼ˆä¾‹å¦‚ç¼“å­˜ã€æ—¥å¿—ã€ç€è‰²å™¨ç¼–è¯‘æ–‡ä»¶ç­‰ï¼‰ï¼Œä»Žè€ŒåŠæ—¶æ¸…ç†ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ã€‚  

è¯¥ç³»ç»Ÿæ”¯æŒ**å¼€æœºè‡ªå¯åŠ¨**ã€**å®šæ—¶æ‰«æ**ã€**åŽ†å²æ•°æ®æ¯”å¯¹**ï¼Œå¹¶å¯æ‰©å±•åˆ°**å¯è§†åŒ–è¶‹åŠ¿åˆ†æž**ã€‚  
åœ¨è®¾è®¡è¿‡ç¨‹ä¸­ï¼Œå……åˆ†åˆ©ç”¨äº†çŽ°ä»£ C++ æ–°ç‰¹æ€§ä¸Žå¤šç§ç»å…¸æ•°æ®ç»“æž„/ç®—æ³•ï¼Œå®žçŽ°äº†æ€§èƒ½ä¸Žå¯ç»´æŠ¤æ€§çš„å¹³è¡¡ã€‚

---

## ðŸŽ¯ è§£å†³çš„é—®é¢˜
- **ç£ç›˜ç©ºé—´â€œéšå½¢â€æ¶ˆè€—**ï¼šéƒ¨åˆ†è½¯ä»¶ä¼šåœ¨åŽå°è‡ªåŠ¨ç”Ÿæˆç¼“å­˜æ–‡ä»¶ï¼Œå¯¼è‡´ç£ç›˜ç©ºé—´é€æ¸è¢«å æ»¡ã€‚
- **ç¼ºä¹åŽ†å²å˜åŒ–è®°å½•**ï¼šWindows ç³»ç»Ÿé»˜è®¤æ— æ³•æŸ¥çœ‹æŸæ–‡ä»¶å¤¹åœ¨ä¸åŒæ—¶é—´ç‚¹çš„ä½“ç§¯å˜åŒ–ã€‚
- **æ— å¿«é€Ÿå®šä½èƒ½åŠ›**ï¼šé¢å¯¹ç£ç›˜å‘Šæ€¥ï¼Œç”¨æˆ·å¾ˆéš¾è¿…é€Ÿæ‰¾åˆ°â€œç©ºé—´æ€æ‰‹â€æ‰€åœ¨çš„ç›®å½•ã€‚

---

## ðŸ’¡ æ ¸å¿ƒåŠŸèƒ½
- **æ–‡ä»¶å¤¹é€’å½’æ‰«æ**ï¼šåˆ©ç”¨ `std::filesystem` éåŽ†ç›®å½•ï¼Œç»Ÿè®¡æ€»å¤§å°ã€‚
- **åŽ†å²æ•°æ®å­˜å‚¨**ï¼šæ”¯æŒ SQLite æ•°æ®åº“ä¸Ž CSV æ–‡æœ¬å­˜å‚¨ä¸¤ç§æ¨¡å¼ã€‚
- **å¤§å°å˜åŒ–æ£€æµ‹**ï¼šåŸºäºŽçº¢é»‘æ ‘ï¼ˆ`std::map`ï¼‰é«˜æ•ˆæŽ’åºï¼Œå¿«é€Ÿæ‰¾å‡ºå¢žé•¿/å‡å°‘æœ€å¤šçš„ç›®å½•ã€‚
- **å®šæ—¶ä»»åŠ¡**ï¼šå¯é€šè¿‡ä»»åŠ¡è®¡åˆ’ç¨‹åºå®žçŽ°æ¯æ—¥/æ¯å°æ—¶è‡ªåŠ¨æ‰«æã€‚
- **æ•°æ®å¯è§†åŒ–ï¼ˆå¯é€‰ï¼‰**ï¼šç»“åˆ `matplotlib-cpp` æˆ– `QtCharts` ç»˜åˆ¶å˜åŒ–è¶‹åŠ¿æŠ˜çº¿å›¾/æŸ±çŠ¶å›¾ã€‚

---

## ðŸ›  æŠ€æœ¯æ ˆ
### ç¼–ç¨‹è¯­è¨€
- **C++17/20**ï¼šä½¿ç”¨ç»“æž„åŒ–ç»‘å®šã€`std::filesystem`ã€`if constexpr`ã€æ™ºèƒ½æŒ‡é’ˆã€èŒƒå›´ for å¾ªçŽ¯ç­‰çŽ°ä»£ç‰¹æ€§ï¼Œæé«˜ä»£ç å¯è¯»æ€§ä¸Žå®‰å…¨æ€§ã€‚
- **STL å®¹å™¨ä¸Žç®—æ³•**ï¼š`std::map`ã€`std::unordered_map`ã€`std::vector`ã€`std::sort`ã€`std::accumulate` ç­‰ã€‚
- **å¤šçº¿ç¨‹å¹¶è¡Œæ‰«æ**ï¼š`std::thread` ä¸Žçº¿ç¨‹æ± æ¨¡åž‹ï¼ˆå¯é€‰ï¼‰ã€‚

### æ•°æ®ç»“æž„ä¸Žç®—æ³•
- **çº¢é»‘æ ‘**ï¼šåŸºäºŽ `std::map` çš„æœ‰åºå­˜å‚¨ï¼Œå®žçŽ°æ–‡ä»¶å¤¹å¤§å°å˜åŒ–çš„å¿«é€ŸæŽ’åºã€‚
- **å“ˆå¸Œè¡¨**ï¼š`std::unordered_map` å­˜å‚¨æ–‡ä»¶å¤¹è·¯å¾„ä¸ŽåŽ†å²è®°å½•ï¼ŒO(1) è®¿é—®ã€‚
- **ä¼˜å…ˆé˜Ÿåˆ—**ï¼šå¿«é€ŸèŽ·å–å˜åŒ–æœ€å¤§çš„ N ä¸ªç›®å½•ã€‚
- **å·®åˆ†è®¡ç®—**ï¼šæ¯”å¯¹ä¸åŒæ—¶é—´å¿«ç…§ï¼Œå¾—åˆ°å˜åŒ–é‡ã€‚

### å­˜å‚¨æ–¹æ¡ˆ
- **SQLite æ•°æ®åº“**ï¼šè½»é‡çº§åµŒå…¥å¼æ•°æ®åº“ï¼Œå­˜å‚¨åŽ†å²æ‰«ææ•°æ®ï¼Œæ”¯æŒ SQL æŸ¥è¯¢ã€‚
- **CSV æ–‡æœ¬**ï¼šä¾¿äºŽå¯¼å‡ºä¸Žå¤–éƒ¨åˆ†æžï¼ˆExcelã€Python ç­‰ï¼‰ã€‚

### å…¶ä»–æŠ€æœ¯
- **CMake**ï¼šè·¨å¹³å°æž„å»ºé…ç½®ã€‚
- **GitHub Actionsï¼ˆCI/CDï¼‰**ï¼šè‡ªåŠ¨åŒ–æž„å»ºä¸Žæµ‹è¯•ã€‚
- **æ—¥å¿—ç³»ç»Ÿï¼ˆspdlogï¼‰**ï¼šè®°å½•æ‰«æçŠ¶æ€ä¸Žå¼‚å¸¸ã€‚

---
## ðŸ“Š åŠŸèƒ½æ¨¡å—å›¾

```mermaid
flowchart LR
    A[å¯åŠ¨ç¨‹åº] --> B[è¯»å–é…ç½®æ–‡ä»¶]
    B --> C[é€’å½’æ‰«ææ–‡ä»¶å¤¹]
    C --> D[è®¡ç®—æ–‡ä»¶å¤¹æ€»å¤§å°]
    D --> E[å­˜å‚¨æ•°æ®åˆ°SQLite/CSV]
    E --> F[å˜åŒ–åˆ†æžæ¨¡å—]
    F --> G[çº¢é»‘æ ‘æŽ’åºå˜åŒ–ç»“æžœ]
    G --> H[è¾“å‡ºæŠ¥å‘Š / å¯è§†åŒ–]
    H --> I[ç”¨æˆ·æŸ¥çœ‹ç»“æžœ]

```
## ðŸ“‚ é¡¹ç›®ç»“æž„
```bash
DiskMonitor/
â”œâ”€â”€ include/            # å¤´æ–‡ä»¶ï¼ˆç±»å®šä¹‰ã€æŽ¥å£å£°æ˜Žï¼‰
â”‚   â”œâ”€â”€ FileScanner.h
â”‚   â”œâ”€â”€ DataStorage.h
â”‚   â”œâ”€â”€ ChangeAnalyzer.h
â”‚   â”œâ”€â”€ Visualizer.h
â”‚   â””â”€â”€ Config.h
â”‚
â”œâ”€â”€ src/                # æºæ–‡ä»¶ï¼ˆå®žçŽ°ï¼‰
â”‚   â”œâ”€â”€ FileScanner.cpp
â”‚   â”œâ”€â”€ DataStorage.cpp
â”‚   â”œâ”€â”€ ChangeAnalyzer.cpp
â”‚   â”œâ”€â”€ Visualizer.cpp
â”‚   â””â”€â”€ main.cpp
â”‚
â”œâ”€â”€ data/               # æ‰«æç»“æžœä¸Žé…ç½®
â”‚   â”œâ”€â”€ history.db
â”‚   â””â”€â”€ config.json
â”‚
â”œâ”€â”€ tests/              # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ test_scanner.cpp
â”‚   â”œâ”€â”€ test_storage.cpp
â”‚   â””â”€â”€ test_analyzer.cpp
â”‚
â”œâ”€â”€ .gitignore
â”œâ”€â”€ CMakeLists.txt
â””â”€â”€ README.md
```

```mermaid
graph TD
    subgraph Scan[æ‰«ææµç¨‹]
        S1[FileScanner] --> S2[ç›®å½•éåŽ† std::filesystem]
        S2 --> S3[ç»Ÿè®¡æ–‡ä»¶å¤¹å¤§å°]
    end

    subgraph Store[æ•°æ®å­˜å‚¨]
        S3 --> ST1[(SQLiteæ•°æ®åº“)]
        S3 --> ST2[(CSVæ–‡ä»¶)]
    end

    subgraph Analyze[åˆ†æžæµç¨‹]
        ST1 --> A1[è¯»å–åŽ†å²æ•°æ®]
        ST2 --> A1
        A1 --> A2[å·®åˆ†è®¡ç®—]
        A2 --> A3[çº¢é»‘æ ‘æŽ’åº]
    end

    subgraph Visual[å¯è§†åŒ–]
        A3 --> V1[ç”Ÿæˆå˜åŒ–æŠ¥å‘Š]
        A3 --> V2[ç»˜åˆ¶è¶‹åŠ¿å›¾]
    end

    V1 --> U[ç”¨æˆ·æŸ¥çœ‹]
    V2 --> U
